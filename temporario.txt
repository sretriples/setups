https://techdocs.broadcom.com/us/en/vmware-tanzu/standalone-components/tanzu-kubernetes-grid/2-5/tkg/mgmt-upgrade-index.html

#Verificar a Versao do TKG
tanzu context use

#Selecionar o contexto do TKGm

kubectx <TKGM>



# Remover variaveis
unset VSPHERE_DATACENTER
unset VSPHERE_DATASTORE
unset VSPHERE_FOLDER
unset VSPHERE_NETWORK
unset VSPHERE_RESOURCE_POOL

# Excluir o arquivo tkg-compatibility.yaml
~/.config/tanzu/tkg/compatibility/tkg-compatibility.yaml

mv ~/.config/tanzu/tkg/compatibility/tkg-compatibility.yaml /diretorio-destino(verificar no bootstrap)





#Selecionar o contexto do TKGm

kubectx tkg-management-dr

#Verificar a versao to TKG
kubectl get cluster tkg-management-dr -n tkg-system -o yaml | grep TKGVERSION
#Resultado
{
	 kubectl get cluster tkg-management-dr -n tkg-system -o yaml | grep TKGVERSION
    TKGVERSION: v2.5.3

}

# Remover variaveis
unset VSPHERE_DATACENTER
unset VSPHERE_DATASTORE
unset VSPHERE_FOLDER
unset VSPHERE_NETWORK
unset VSPHERE_RESOURCE_POOL

# Excluir o arquivo tkg-compatibility.yaml
## Ralizado o backup para /TKGm/dc02/management-dr/bkp/

{
	cp -R ~/.config/ /TKGm/dc02/management-dr/bkp/
}

{
	rm -f ~/.config/tanzu/tkg/compatibility/tkg-compatibility.yaml
}

# Execução do script 

{tanzu plugin search -n management-cluster --show-details}

# Backup Pinniped Secret

{
	FILTER_BY_ADDON_TYPE=authentication/pinniped tanzu management-cluster create --dry-run -f  tkg-management-dr-config.yaml > /TKGm/dc02/management-dr/bkp/PINNIPED-PACKAGE-SECRET-tkg-management-dr.yaml

}

#Obs.: Não realizamos o passo do LDAP pois já poussui integracao. Realizamos o backup da secret
{
	 k get secret -n tkg-system tkg-management-dr-pinniped-package -oyaml > ./bkp/tkg-management-dr-pinniped-package.yaml
}

# Atualizacao do MC

{
	tanzu mc upgrade --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
}

tanzu mc upgrade --timeout 45m0s --vsphere-vm-template-name " /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
Upgrading management cluster 'tkg-management-dr' to TKG version 'v2.5.4' with Kubernetes version 'v1.29.15+vmware.1'. Are you sure? [y/N]: y
Validating the compatibility before management cluster upgrade
Validating for the user configuration secret to be existed in the cluster
Warning: unable to find component 'kube_rbac_proxy' under BoM
Warning: unable to find component 'aad-pod-identity' under BoM
Upgrading management cluster providers...
current TKG version is 2.5.4 >= 2.5.0, AWS and Azure providers support has been discontinued since TKG v2.5.0.
Checking if cert-manager needs upgrade...
Cert-manager is already up to date
Performing upgrade...
Scaling down Provider={"name":"cluster-api","namespace":"capi-system"} providerVersion=""
Scaling down Provider={"name":"bootstrap-kubeadm","namespace":"capi-kubeadm-bootstrap-system"} providerVersion=""
Scaling down Provider={"name":"control-plane-kubeadm","namespace":"capi-kubeadm-control-plane-system"} providerVersion=""
Scaling down Provider={"name":"infrastructure-vsphere","namespace":"capv-system"} providerVersion=""
Scaling down Provider={"name":"ipam-in-cluster","namespace":"caip-in-cluster-system"} providerVersion=""
Deleting Provider={"name":"cluster-api","namespace":"capi-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="cluster-api" version="v1.10.1" targetNamespace="capi-system"
Deleting Provider={"name":"bootstrap-kubeadm","namespace":"capi-kubeadm-bootstrap-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="bootstrap-kubeadm" version="v1.10.1" targetNamespace="capi-kubeadm-bootstrap-system"
Deleting Provider={"name":"control-plane-kubeadm","namespace":"capi-kubeadm-control-plane-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="control-plane-kubeadm" version="v1.10.1" targetNamespace="capi-kubeadm-control-plane-system"
Deleting Provider={"name":"infrastructure-vsphere","namespace":"capv-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="infrastructure-vsphere" version="v1.13.0" targetNamespace="capv-system"
Deleting Provider={"name":"ipam-in-cluster","namespace":"caip-in-cluster-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="ipam-in-cluster" version="v1.0.1" targetNamespace="caip-in-cluster-system"
Management cluster providers upgraded successfully...
Preparing addons manager for upgrade
Upgrading kapp-controller...
Adding last-applied annotation on kapp-controller...
Removing old management components...
Upgrading management components...
ℹ   Updating package repository 'tanzu-management'
ℹ   Getting package repository 'tanzu-management'
ℹ   Validating provided settings for the package repository
ℹ   Updating package repository resource
ℹ   Waiting for 'PackageRepository' reconciliation for 'tanzu-management'
ℹ   'PackageRepository' resource install status: ReconcileSucceeded
ℹ  Updated package repository 'tanzu-management' in namespace 'tkg-system'
ℹ   Installing package 'tkg.tanzu.vmware.com'
ℹ   Updating package 'tkg-pkg'
ℹ   Getting package install for 'tkg-pkg'
ℹ   Getting package metadata for 'tkg.tanzu.vmware.com'
ℹ   Updating secret 'tkg-pkg-tkg-system-values'
ℹ   Updating package install for 'tkg-pkg'
ℹ   Waiting for 'PackageInstall' reconciliation for 'tkg-pkg'


ℹ  Updated installed package 'tkg-pkg'
Checking Tkr v1.29.15---vmware.1-tkg.1 is ready...
Checking Tkr v1.29.15---vmware.1-tkg.1 package is installed successfully...
Upgrading the runtime-extension...
Installing the default ClusterClass...
Cleanup core packages repository...
Core package repository not found, no need to cleanup
Upgrading management cluster kubernetes version...
Upgrading kubernetes cluster to `v1.29.15+vmware.1` version, tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0
Constructing patch string for vsphere cluster. vsphereTemplate =  /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Patch string constructed for cluster to upgrade to tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0, vpshere template:  /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Error: unable to upgrade management cluster: unable to patch kubernetes version to cluster: unable to patch the cluster object: error while applying patch for "&TypeMeta{Kind:,APIVersion:,}" tkg-system/tkg-management-dr: admission webhook "tkr-vsphere-resolver-webhook.tanzu.vmware.com" denied the request: failed validating template path for control plane: failed to validate template path  /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1, target ova versions: [v1.29.15+vmware.1-tkg.1-0dcf0e]: invalid template path:  /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1: failed to find vm object for template path  /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1: vm ' /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1' not found


######################################################################

root@3188-dc01-00299:/TKGm/dc02/management-dr# tanzu mc upgrade --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
Upgrading management cluster 'tkg-management-dr' to TKG version 'v2.5.4' with Kubernetes version 'v1.29.15+vmware.1'. Are you sure? [y/N]: y
Validating the compatibility before management cluster upgrade
Validating for the user configuration secret to be existed in the cluster
Warning: unable to find component 'kube_rbac_proxy' under BoM
Warning: unable to find component 'aad-pod-identity' under BoM
Upgrading management cluster providers...
current TKG version is 2.5.4 >= 2.5.0, AWS and Azure providers support has been discontinued since TKG v2.5.0.
Checking if cert-manager needs upgrade...
Cert-manager is already up to date
Performing upgrade...
Scaling down Provider={"name":"cluster-api","namespace":"capi-system"} providerVersion=""
Scaling down Provider={"name":"bootstrap-kubeadm","namespace":"capi-kubeadm-bootstrap-system"} providerVersion=""
Scaling down Provider={"name":"control-plane-kubeadm","namespace":"capi-kubeadm-control-plane-system"} providerVersion=""
Scaling down Provider={"name":"infrastructure-vsphere","namespace":"capv-system"} providerVersion=""
Scaling down Provider={"name":"ipam-in-cluster","namespace":"caip-in-cluster-system"} providerVersion=""
Deleting Provider={"name":"cluster-api","namespace":"capi-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="cluster-api" version="v1.10.1" targetNamespace="capi-system"
Deleting Provider={"name":"bootstrap-kubeadm","namespace":"capi-kubeadm-bootstrap-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="bootstrap-kubeadm" version="v1.10.1" targetNamespace="capi-kubeadm-bootstrap-system"
Deleting Provider={"name":"control-plane-kubeadm","namespace":"capi-kubeadm-control-plane-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="control-plane-kubeadm" version="v1.10.1" targetNamespace="capi-kubeadm-control-plane-system"
Deleting Provider={"name":"infrastructure-vsphere","namespace":"capv-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="infrastructure-vsphere" version="v1.13.0" targetNamespace="capv-system"
Deleting Provider={"name":"ipam-in-cluster","namespace":"caip-in-cluster-system"} providerVersion=""
Capabilities API in run API group is deprecated, use Capabilities API in core API group
Installing provider="ipam-in-cluster" version="v1.0.1" targetNamespace="caip-in-cluster-system"
Management cluster providers upgraded successfully...
Preparing addons manager for upgrade
Upgrading kapp-controller...
Adding last-applied annotation on kapp-controller...
Removing old management components...
Upgrading management components...
ℹ   Updating package repository 'tanzu-management'
ℹ   Getting package repository 'tanzu-management'
ℹ   Validating provided settings for the package repository
ℹ   Updating package repository resource
ℹ   Waiting for 'PackageRepository' reconciliation for 'tanzu-management'
ℹ   'PackageRepository' resource install status: ReconcileSucceeded
ℹ  Updated package repository 'tanzu-management' in namespace 'tkg-system'
ℹ   Installing package 'tkg.tanzu.vmware.com'
ℹ   Updating package 'tkg-pkg'
ℹ   Getting package install for 'tkg-pkg'
ℹ   Getting package metadata for 'tkg.tanzu.vmware.com'
ℹ   Updating secret 'tkg-pkg-tkg-system-values'
ℹ   Updating package install for 'tkg-pkg'
ℹ   Waiting for 'PackageInstall' reconciliation for 'tkg-pkg'
ℹ   'PackageInstall' resource install status: ReconcileSucceeded


ℹ  Updated installed package 'tkg-pkg'
Checking Tkr v1.29.15---vmware.1-tkg.1 is ready...
Checking Tkr v1.29.15---vmware.1-tkg.1 package is installed successfully...
Upgrading the runtime-extension...
Installing the default ClusterClass...
Cleanup core packages repository...
Core package repository not found, no need to cleanup
Upgrading management cluster kubernetes version...
Upgrading kubernetes cluster to `v1.29.15+vmware.1` version, tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0
Constructing patch string for vsphere cluster. vsphereTemplate = /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Patch string constructed for cluster to upgrade to tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0, vpshere template: /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Waiting for kubernetes version to be updated for control plane nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Waiting for kubernetes version to be updated for worker nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
management cluster is opted out of telemetry - skipping telemetry image upgrade
Creating tkg-bom versioned ConfigMaps...
Management cluster 'tkg-management-dr' successfully upgraded to TKG version 'v2.5.4' with kubernetes version 'v1.29.15+vmware.1'




######################################################################

tanzu cluster list --include-management-cluster -A
  NAME                  NAMESPACE             STATUS   CONTROLPLANE  WORKERS  KUBERNETES         ROLES       PLAN  TKR   
  tkg-management-dr     tkg-system            running  3/3           3/3      v1.29.15+vmware.1  management  prod  v1.29.15---vmware.1-tkg.1
  tkgm-hml-sistemas-dr  tkgm-hml-sistemas-dr  running  3/3           2/2      v1.28.15+vmware.6  <none>      dev   v1.28.15---vmware.6-tkg.1
  tkgm-prd-bigdata-dr   tkgm-prd-bigdata-dr   running  3/3           5/5      v1.28.15+vmware.6  <none>      dev   v1.28.15---vmware.6-tkg.1
  tkgm-prd-mktclub-dr   tkgm-prd-mktclub-dr   running  3/3           4/4      v1.28.15+vmware.6  <none>      dev   v1.28.15---vmware.6-tkg.1
  tkgm-prd-sistemas-dr  tkgm-prd-sistemas-dr  running  3/3           2/2      v1.28.15+vmware.6  <none>      dev   v1.28.15---vmware.6-tkg.1
root@3188-dc01-00299:/TKGm/dc02/management-dr#
root@3188-dc01-00299:/TKGm/dc02/management-dr# k get nodes -owide
NAME                                         STATUS   ROLES           AGE     VERSION             INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                 KERNEL-VERSION   CONTAINER-RUNTIME
tkg-management-dr-controlplane-wtpng-f487r   Ready    control-plane   24m     v1.29.15+vmware.1   10.140.0.14   10.140.0.14   VMware Photon OS/Linux   6.1.141-1.ph5    containerd://1.7.23+vmware.4
tkg-management-dr-controlplane-wtpng-prjd8   Ready    control-plane   28m     v1.29.15+vmware.1   10.140.0.13   10.140.0.13   VMware Photon OS/Linux   6.1.141-1.ph5    containerd://1.7.23+vmware.4
tkg-management-dr-controlplane-wtpng-whtjm   Ready    control-plane   21m     v1.29.15+vmware.1   10.140.0.11   10.140.0.11   VMware Photon OS/Linux   6.1.141-1.ph5    containerd://1.7.23+vmware.4
tkg-management-dr-md-0-jgb8p-nzvxj-dqb2k     Ready    <none>          17m     v1.29.15+vmware.1   10.140.0.12   10.140.0.12   VMware Photon OS/Linux   6.1.141-1.ph5    containerd://1.7.23+vmware.4
tkg-management-dr-md-1-9sn9f-m4ksr-4qzpv     Ready    <none>          12m     v1.29.15+vmware.1   10.140.0.15   10.140.0.15   VMware Photon OS/Linux   6.1.141-1.ph5    containerd://1.7.23+vmware.4
tkg-management-dr-md-2-rtbxx-8x47n-czmsb     Ready    <none>          7m23s   v1.29.15+vmware.1   10.140.0.16   10.140.0.16   VMware Photon OS/Linux   6.1.141-1.ph5    containerd://1.7.23+vmware.4


{
	tanzu management-cluster kubeconfig get --admin ./bkp/kube-config-tkg-management-dr
}

# Upgrade TKG

{
	tanzu cluster upgrade tkgm-hml-sistemas-dr --namespace tkgm-hml-sistemas-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"

}


13:38 - Inicio
13:54 - Fim

#######################################################################################

 tanzu cluster upgrade tkgm-hml-sistemas-dr --namespace tkgm-hml-sistemas-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
Upgrading workload cluster 'tkgm-hml-sistemas-dr' to kubernetes version 'v1.29.15+vmware.1', tkr version 'v1.29.15+vmware.1-tkg.1'. Are you sure? [y/N]: y
Upgrading kubernetes cluster to `v1.29.15+vmware.1` version, tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0
Constructing patch string for vsphere cluster. vsphereTemplate = /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Patch string constructed for cluster to upgrade to tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0, vpshere template: /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Waiting for kubernetes version to be updated for control plane nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Waiting for kubernetes version to be updated for worker nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Cluster 'tkgm-hml-sistemas-dr' successfully upgraded to kubernetes version 'v1.29.15+vmware.1'



#######################################################################################

#Exportar kubeconfig Admin do TKG
{
	tanzu cluster kubeconfig get tkgm-hml-sistemas-dr --namespace tkgm-hml-sistemas-dr --admin > /TKGm/dc02/tkg/hml-sistemas-dr/tkgm-hml-sistemas-config
}

#######################################################################################

{
	tanzu cluster upgrade --namespace  tkgm-prd-bigdata-dr  tkgm-prd-bigdata-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"

}


root@3188-dc01-00299:/TKGm/dc02/tkg/hml-sistemas-dr# tanzu cluster upgrade --namespace  tkgm-prd-bigdata-dr  tkgm-prd-bigdata-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
Upgrading workload cluster 'tkgm-prd-bigdata-dr' to kubernetes version 'v1.29.15+vmware.1', tkr version 'v1.29.15+vmware.1-tkg.1'. Are you sure? [y/N]: y
Upgrading kubernetes cluster to `v1.29.15+vmware.1` version, tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0
Constructing patch string for vsphere cluster. vsphereTemplate = /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Patch string constructed for cluster to upgrade to tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0, vpshere template: /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Waiting for kubernetes version to be updated for control plane nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Waiting for kubernetes version to be updated for worker nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Cluster 'tkgm-prd-bigdata-dr' successfully upgraded to kubernetes version 'v1.29.15+vmware.1'



#######################################################################################

{

	tanzu cluster upgrade --namespace  tkgm-prd-mktclub-dr   tkgm-prd-mktclub-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"

}


root@3188-dc01-00299:/TKGm/dc02/tkg/hml-sistemas-dr# tanzu cluster upgrade --namespace  tkgm-prd-mktclub-dr   tkgm-prd-mktclub-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
Upgrading workload cluster 'tkgm-prd-mktclub-dr' to kubernetes version 'v1.29.15+vmware.1', tkr version 'v1.29.15+vmware.1-tkg.1'. Are you sure? [y/N]: y
Upgrading kubernetes cluster to `v1.29.15+vmware.1` version, tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0
Constructing patch string for vsphere cluster. vsphereTemplate = /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Patch string constructed for cluster to upgrade to tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0, vpshere template: /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Waiting for kubernetes version to be updated for control plane nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Waiting for kubernetes version to be updated for worker nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Cluster 'tkgm-prd-mktclub-dr' successfully upgraded to kubernetes version 'v1.29.15+vmware.1'


#######################################################################################
{
	tanzu cluster upgrade --namespace  tkgm-prd-sistemas-dr  tkgm-prd-sistemas-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"

}

root@3188-dc01-00299:/TKGm/dc02/tkg/hml-sistemas-dr# tanzu cluster upgrade --namespace  tkgm-prd-sistemas-dr  tkgm-prd-sistemas-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1"
Upgrading workload cluster 'tkgm-prd-sistemas-dr' to kubernetes version 'v1.29.15+vmware.1', tkr version 'v1.29.15+vmware.1-tkg.1'. Are you sure? [y/N]: y
Upgrading kubernetes cluster to `v1.29.15+vmware.1` version, tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0
Constructing patch string for vsphere cluster. vsphereTemplate = /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Patch string constructed for cluster to upgrade to tkr version: `v1.29.15+vmware.1-tkg.1`, ClusterClass: tkg-vsphere-default-v1.2.0, vpshere template: /VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.29.15+vmware.1
Waiting for kubernetes version to be updated for control plane nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Waiting for kubernetes version to be updated for worker nodes...
waiting for kubernetes version v1.29.15+vmware.1 update
Cluster 'tkgm-prd-sistemas-dr' successfully upgraded to kubernetes version 'v1.29.15+vmware.1'


https://techdocs.broadcom.com/us/en/vmware-tanzu/standalone-components/tanzu-kubernetes-grid/2-5/tkg/mgmt-upgrade-index.html

#######################################################################################

tanzu cluster upgrade --namespace  tkgm-hml-sistemas-dr  tkgm-hml-sistemas-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.30.13+vmware.1"

#######################################################################################

nohup tanzu cluster upgrade --namespace  tkgm-prd-bigdata-dr   tkgm-prd-bigdata-dr  --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.30.13+vmware.1"

#######################################################################################

tanzu cluster upgrade --namespace  tkgm-prd-mktclub-dr   tkgm-prd-mktclub-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.30.13+vmware.1"

#######################################################################################

tanzu cluster upgrade --namespace  tkgm-prd-sistemas-dr  tkgm-prd-sistemas-dr --timeout 60m0s --vsphere-vm-template-name "/VxRail-Datacenter/vm/tkgm-management/photon-5-kube-v1.30.13+vmware.1"

#######################################################################################




